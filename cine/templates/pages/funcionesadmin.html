{% extends "layout/plantillaadmin.html" %}
{% load static %}
{% block scriptadm %}
<script type="text/javascript">


    
 </script>
{% endblock %}
{% block bodyadm %}

<div class="container mt-4">
    <!-- Título -->
    <h2 class="mb-4">Funciones de películas</h2>


    <!-- Search Bar -->
    {% comment %} <div class="mb-4">
        <input type="text" id="searchBar" class="form-control" placeholder="Buscar funciones por título">
    </div> {% endcomment %}

    <!-- Movie List -->
    <ul class="list-group" id="movieList">

        {% for x in funciones %}
        <!-- Película 1 -->
        <div class="col-md-3 mb-4">
            <a href="detalle-matrix4.html" class="text-decoration-none text-dark">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title"> nombre pelicula: {{x.id_peliculas.titulo}} </h5>
                        <p1 class="card-text"> ID sala: {{x.id_sala.pk}} </p1> </br>
                        <p1 class="card-text"> fecha: {{x.fecha_funcion}} </p1> </br>
                        <p1 class="card-text"> precio: {{x.precio_funcion}} </p1> </br>

                    </div>
                </div>
            </a>
        </div>
        
        {% endfor %}

    {% comment %} <!-- No Results Message -->
    <p class="text-center mt-3 no-results" id="noResults">No se encontraron resultados.</p> {% endcomment %}

    {% comment %} <!-- Pagination -->
    <nav aria-label="Page navigation" class="mt-4">
        <ul class="pagination justify-content-center">
            <li class="page-item disabled">
                <a class="page-link" href="#" tabindex="-1" aria-disabled="true">&lt;</a>
            </li>
            <li class="page-item active"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item">
                <a class="page-link" href="#">&gt;</a>
            </li>
        </ul>
    </nav> {% endcomment %}

</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<!-- JavaScript para búsqueda -->
<script>
    const searchBar = document.getElementById('searchBar');
    const movieList = document.getElementById('movieList');
    const noResults = document.getElementById('noResults');

    searchBar.addEventListener('keyup', () => {
        const filter = searchBar.value.toLowerCase();
        const movies = movieList.getElementsByTagName('li');
        let found = false;

        for (const movie of movies) {
            const title = movie.querySelector('h5').textContent.toLowerCase();
            if (title.includes(filter)) {
                movie.style.display = '';
                found = true;
            } else {
                movie.style.display = 'none';
            }
        }

        // Mostrar u ocultar el mensaje de "No se encontraron resultados"
        noResults.style.display = found ? 'none' : 'block';
    });
</script>



    
{% endblock %}