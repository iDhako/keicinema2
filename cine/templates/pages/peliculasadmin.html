{% extends "layout/plantillaadmin.html" %}
{% load static %}
{% block scriptadm %}
<script type="text/javascript">


    
 </script>
{% endblock %}
{% block bodyadm %}

<div class="container mt-4">
    
    <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Películas</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <!-- Título -->
        <h2 class="mb-4">Lista de Películas</h2>

        <!-- Barra de búsqueda -->
        <div class="mb-4">
            <input type="text" id="searchBar" class="form-control" placeholder="Buscar películas por título ...">
        </div>

        <!-- Lista de películas -->
        <div class="row" id="movieGrid">
            
            {% for x in pelicula %}


            <!-- Película 1 -->
            <div class="col-md-3 mb-4">
                <a href="detalle-matrix4.html" class="text-decoration-none text-dark">
                    <div class="card h-100">
                        <img src={{x.imagen_url}} class="card-img-top" alt="Matrix">
                        <div class="card-body">
                            <h5 class="card-title"> {{x.titulo}} </h5>
                            <p1 class="card-text"> Genero: {{x.genero}} </p1>
                            <p1 class="card-text"> Estado: {{x.estado_peliculas}} </p1>
                        </div>
                    </div>
                </a>
            </div>

            {% endfor %}

        </div>

        <!-- Mensaje de no resultados -->
        <p class="text-center mt-3 no-results" id="noResults" style="display: none;">No se encontraron resultados.</p>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- JavaScript para búsqueda -->
    <script>
        const searchBar = document.getElementById('searchBar');
        const movieGrid = document.getElementById('movieGrid');
        const noResults = document.getElementById('noResults');

        searchBar.addEventListener('keyup', () => {
            const filter = searchBar.value.toLowerCase();
            const movies = movieGrid.getElementsByClassName('col-md-3');
            let found = false;

            for (const movie of movies) {
                const title = movie.querySelector('.card-title').textContent.toLowerCase();
                if (title.includes(filter)) {
                    movie.style.display = '';
                    found = true;
                } else {
                    movie.style.display = 'none';
                }
            }

            // Mostrar u ocultar el mensaje de "No se encontraron resultados"
            noResults.style.display = found ? 'none' : 'block';
        });
    </script>
</body>
</html>



</script>



    
{% endblock %}